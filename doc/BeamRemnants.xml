<chapter name="Beam Remnants">

<h1>Beam Remnants</h1>

<h2>Introduction</h2>

The <ci>BeamParticle</ci> class contains information on all partons 
extracted from a beam (so far). As each consecutive multiple interaction 
defines its respective incoming parton to the hard scattering a 
new slot is added to the list. This information is modified when 
the backwards evolution of the spacelike shower defines a new 
initiator parton. It is used, both for the multiple interactions
and the spacelike showers, to define rescaled parton densities based
on the <ei>x</ei> and flavours already extracted, and to distinguish 
between valence, sea and companion quarks. Once the perturbative 
evolution is finished, further beam remnants are added to obtain a 
consistent set of flavours. The current physics framework is further 
described in [1]. 

<p/>
Much of the above information is stored in a vector of 
<ci>ResolvedParton</ci> objects, which each contains flavour and 
momentum information, as well as valence/companion information and more. 
The <ci>BeamParticle</ci> method <ci>list()</ci> shows the contents of 
this vector, mainly for debug purposes.

<p/>
The <ci>BeamRemnants</ci> class takes over for the final step of adding 
primordial <ei>kT</ei> to the initiators and remnants, assigning the 
relative longitudinal momentum sharing among the remnants, and 
constructing the overall kinematics. This step couples the two sides 
of an event, and could therefore not be covered in the 
<ci>BeamParticle</ci> class, which only considers one beam at a time. 

<p/>
Neither of the methods of these classes are intended for general use,
and so are not described here. 

<h2>Main variables</h2>

Currently there are no crucial parameters to consider. The choice of
parton densities is made in the <ci>Pythia</ci> class, see the 
Generic page. Then pointers to the pdf's are handed on to 
<ci>BeamParticle</ci> at initialization, for all subsequent usage.

<h2>Further variables</h2>

<mode name="Beams:maxValQuark" default="3" min="0" max="5">
The maximum valence quark kind allowed in acceptable incoming beams,
for which multiple interactions are simulated. Default is that hadrons
may contain <ei>u</ei>, <ei>d</ei> and <ei>s</ei> quarks, 
but not <ei>c</ei> and <ei>b</ei> ones, since sensible
kinematics has not really been worked out for the latter.
</mode>

<mode name="Beams:companionPower" default="4" min="0" max="4">
When a sea quark has been found, a companion antisea quark ought to be
nearby in <ei>x</ei>. The shape of this distribution can be derived 
from the gluon mother distribution convoluted with the 
<ei>g -> q qbar</ei> splitting kernel. In practice, simple solutions 
are only feasible if the gluon shape is assumed to be of the form 
<ei>g(x) ~ (1 - x)^p / x</ei>, where <ei>p</ei> is an integer power, 
the parameter above. Allowed values correspond to the cases programmed.
<br/> 
Since the whole framework is approximate anyway, this should be good 
enough. Note that companions typically are found at small <ei>Q^2</ei>, 
if at all, so the form is supposed to represent <ei>g(x)</ei> at small 
<ei>Q^2</ei> scales, close to the lower cutoff for multiple interactions. 
</mode>

<parameter name="Beams:primordialKTwidth" default="1." min="0.">
The width of Gaussian distributions in <ei>p_x</ei> and <ei>p_y</ei> 
separately that is assigned as a primordial <ei>kT</ei> to initiators 
and beam remnants.
</parameter>

<p/>
When assigning relative momentum fractions to beam-remnant partons,
valence quarks are chosen according to a distribution like
<ei>(1 - x)^power / sqrt(x)</ei>. This <ei>power</ei> is given below 
for quarks in mesons, and separately for <ei>u</ei> and <ei>d</ei> 
quarks in the proton, based on the approximate shape of low-<ei>Q^2</ei> 
parton densities. The power for other baryons is derived from the 
proton ones, by an appropriate mixing. The <ei>x</ei> of a diquark 
is chosen as the sum of its two constituent <ei>x</ei> values, and can 
thus be above unity. (A common rescaling of all remnant partons and 
particles will fix that.) An additional enhancement of the diquark 
momentum is obtained by its <ei>x</ei> value being rescaled by the 
<ci>valenceDiqEnhance</ci> factor. 

<parameter name="Beams:valencePowerMeson" default="0.8" min="0.">
The abovementioned power for valence quarks in mesons.
</parameter>

<parameter name="Beams:valencePowerUinP" default="3.5" min="0."> 
The abovementioned power for valence <ei>u</ei> quarks in protons.
</parameter>

<parameter name="Beams:valencePowerDinP" default="2.0" min="0.">
The abovementioned power for valence <ei>d</ei> quarks in protons.
</parameter>

<parameter name="Beams:valenceDiqEnhance" default="2.0" min="0.5" 
max="10.">
Enhancement factor for valence diqaurks in baryons, relative to the 
simple sum of the two constituent quarks.
</parameter>

<flag name="Beams:allowJunction" default="on">
The <ci>off</ci> option is intended for debug purposes only, as follows.
When more than one valence quark is kicked out of a baryon beam,
as part of the multiple interactions scenario, the subsequent
hadronization is described in terms of a junction string topology.
This description involves a number of technical complications that
may make the program more unstable. As an alternative, by switching
this option off, junction configurations are rejected, and the
multiple interactions and their showers are redone until a 
junction-free topology is found. 
</flag> 

<h2>References</h2>

<ol>
<li>T. Sjostrand and P.Z. Skands, JHEP 03 (2004) 053</li>
</ol>
</chapter>

<!-- Copyright C 2006 Torbjorn Sjostrand -->
