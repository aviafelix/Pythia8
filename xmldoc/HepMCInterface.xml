<chapter name="HepMC Interface">

<h2>HepMC Interface</h2>

An interface to the HepMC <ref>Dob01</ref> standard event record 
format has been provided by M. Kirsanov. To use it, the relevant 
libraires need to be linked, as explained in the <code>README</code> 
file. Version 1 of the program requires that CLHEP is also linked,
for the handling of four-vectors, while version 2 is standalone.
This requires some adjustments in the interface code based on which 
version is going to be used. 

<p/>
The (simple) procedure to translate PYTHIA 8 events into HepMC ones 
is illustrated in the <code>main31.cc</code>, <code>main32.cc</code>   
and <code>main54.cc</code> main programs. At the core is a call to
the
<pre>
HepMC::I_Pythia8::fill_next_event( pythia, hepmcevt, ievnum = -1, convertGluonTo0 = false ) 
</pre>
which takes a reference of the generator object and uses it, on the one
hand, to read out and covert the event record in <code>pythia.event</code> 
and, on the other hand, to extract and store parton-density (PDF) information 
for the hard subprocess from <code>pythia.info</code>. The latter step only
works with HepMC version 2. The optional last argument, if <code>true</code>, 
allows you to store gluons as "PDG" code 0 rather than the normal 21; this 
only applies to the PDF information, not the event record. 

<p/>
The earlier version of this routine,
<pre>
HepMC::I_Pythia8::fill_next_event( pythia.event, hepmcevt, ievnum = -1 ) 
</pre>
is retained (for now) for backwards compatibility. It takes a PYTHIA event 
as input and returns a HepMC one, but without storing the PDF information. 
The latter could then instead be stored by a separate call
<pre>
HepMC::I_Pythia8::pdf_put_info( hepmcevt, pythia, convertGluonTo0 = false ) 
</pre>
or not, as wished.


</chapter>

<!-- Copyright (C) 2008 Torbjorn Sjostrand -->
